<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NIKHIL GOWTHAM | SYSTEM ARCHITECT</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;1,600&family=Montserrat:wght@300;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { 
            --paper: #f4f1ea; 
            --ink: #1a1a1a; 
            --accent: #8b7355; 
            --card: rgba(255, 255, 255, 0.7); 
        }
        body.night-mode { 
            --paper: #05070a; 
            --ink: #e0e0e0; 
            --accent: #dda15e; 
            --card: rgba(18, 20, 29, 0.8); 
        }

        /* --- ADD THIS AROUND LINE 15 --- */
        #status-box {
    position: fixed;
    top: 30px;
    left: 30px;
    z-index: 10001;
    background: rgba(var(--card-rgb), 0.4); /* Requires a RGB variable or just use rgba(255,255,255,0.4) */
    backdrop-filter: blur(12px);
    border-left: 3px solid var(--accent); /* Architect accent line */
    padding: 8px 18px;
    display: flex;
    align-items: center;
    gap: 12px;
    box-shadow: 10px 10px 30px rgba(0,0,0,0.05);
    font-family: 'Montserrat';
    font-size: 10px;
    font-weight: 600;
    letter-spacing: 2px;
}

#current-activity {
    font-family: 'Courier New', Courier, monospace; /* Terminal font */
    color: var(--accent);
    border-right: 2px solid var(--accent); /* Cursor blink */
    white-space: nowrap;
    overflow: hidden;
    animation: blink-cursor 0.8s step-end infinite;
}

@keyframes blink-cursor {
    from, to { border-color: transparent }
    50% { border-color: var(--accent); }
}
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.8; }
            100% { transform: scale(3.5); opacity: 0; }
        }

        /* Ensure mobile doesn't overlap with hero text */
        @media (max-width: 768px) {
            #status-box { top: 20px; left: 20px; font-size: 8px; padding: 6px 10px; }
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        
        @media (pointer: fine) {
            body, a, button, .btn, .mini-paper { cursor: none; }
            #cursor { display: block; }
        }
        @media (pointer: coarse) {
            #cursor { display: none; }
            * { cursor: auto !important; }
        }

        body { 
            background: var(--paper); 
            color: var(--ink); 
            font-family: 'Cormorant Garamond', serif; 
            overflow-x: hidden; 
            transition: background 0.5s ease; 
        }

        #canvas-container { position: fixed; inset: 0; z-index: 1; pointer-events: none; }
        #cursor { 
            position: fixed; width: 15px; height: 15px; background: var(--accent); 
            border-radius: 50%; z-index: 999999; pointer-events: none; 
            transform: translate(-50%, -50%); mix-blend-mode: difference; 
        }

        #mode-switch { 
            position: fixed; top: 30px; right: 30px; z-index: 10001; 
            width: 50px; height: 50px; border-radius: 50%; cursor: pointer; 
            background: var(--card); border: 1px solid var(--ink); 
            display: flex; align-items: center; justify-content: center; 
            box-shadow: 4px 4px 0px var(--ink); transition: 0.3s;
            backdrop-filter: blur(5px);
        }

        .wrapper { position: relative; z-index: 10; width: 100%; }
        
        section { 
            min-height: 100vh; display: flex; flex-direction: column; 
            justify-content: center; align-items: center; padding: 80px 10%; 
            text-align: center; opacity: 0; transform: translateY(30px);
            transition: all 1s ease-out;
        }
        section.visible { opacity: 1; transform: translateY(0); }

        .info-grid { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
            gap: 30px; width: 100%; max-width: 1000px; margin: 40px 0; 
        }
        .info-card { 
            background: var(--card); padding: 40px; 
            border: 1px solid rgba(0,0,0,0.05); text-align: left; 
            box-shadow: 8px 8px 0px var(--ink); 
            backdrop-filter: blur(10px);
        }

        .paper-row {
            display: flex; justify-content: center; gap: 25px;
            flex-wrap: wrap; perspective: 1000px; margin-top: 20px; width: 100%;
        }
        .mini-paper {
            width: 140px; height: 190px; background: #fff; border: 1px solid rgba(0,0,0,0.08);
            cursor: pointer; position: relative; transition: 0.5s;
            display: flex; flex-direction: column; justify-content: flex-end; padding: 15px;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
        }
        .mini-paper::after {
            content: ""; position: absolute; top: 20px; left: 15px; right: 15px; 
            background: repeating-linear-gradient(to bottom, transparent, transparent 10px, rgba(0,0,0,0.05) 10px, rgba(0,0,0,0.05) 11px);
            height: 100px;
        }
        .mini-paper span { font-family: 'Montserrat'; font-size: 11px; font-weight: 600; text-transform: uppercase; color: #1a1a1a; z-index: 2; }
        .mini-paper:hover { transform: translateY(-15px) rotateX(10deg); box-shadow: 20px 30px 40px rgba(0,0,0,0.15); border-color: var(--accent); }
        .mini-paper.blue-p { background: #e3e8f0; }

        /* ADDED: OTHERS/LAB GRID */
        .others-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: 20px; width: 100%; max-width: 1200px; margin-top: 40px;
        }
        .lab-card {
            background: var(--card); border: 1px solid var(--ink); padding: 20px;
            text-align: left; box-shadow: 6px 6px 0px var(--ink);
        }

        #reading-page {
            position: fixed; inset: 0; background: var(--paper); z-index: 50000;
            display: none; flex-direction: column; padding: 60px 10%; overflow-y: auto; opacity: 0;
        }

        .btn { 
            background: var(--card); border: 2px solid var(--ink); color: var(--ink); 
            padding: 18px 40px; font-family: 'Montserrat'; font-size: 12px; 
            font-weight: 600; letter-spacing: 2px; transition: 0.4s; 
            display: inline-flex; align-items: center; gap: 12px; 
            box-shadow: 6px 6px 0px var(--ink); text-decoration: none; backdrop-filter: blur(5px);
        }
        .btn:hover { transform: translate(-3px, -3px); box-shadow: 10px 10px 0px var(--accent); background: var(--ink); color: var(--paper); }

        h1 { font-size: clamp(50px, 12vw, 120px); font-style: italic; line-height: 0.85; }
        .tag { font-family: 'Montserrat'; font-size: 10px; letter-spacing: 5px; color: var(--accent); text-transform: uppercase; margin-bottom: 15px; display: block; }

        .resume-bridge { width: 100%; border-top: 1px dashed var(--accent); border-bottom: 1px dashed var(--accent); padding: 100px 0; margin: 40px 0; }
    </style>
</head>
<body>
    <div id="status-box">
    <div class="pulse-dot"></div>
    <span>Current Protocol: <span id="current-activity" style="color: var(--accent);">Searching for Core Nodes (Job Hunt)</span></span>
</div>

    <div id="cursor"></div>
    <div id="mode-switch" onclick="toggleMode()"><i class="fa-solid fa-moon" id="mode-icon"></i></div>
    <div id="canvas-container"></div>

    <div id="reading-page">
        <div style="max-width: 800px; margin: 0 auto; width: 100%;">
            <button class="btn" onclick="closeReadingPage()" style="margin-bottom: 50px;">
                <i class="fa-solid fa-arrow-left"></i> BACK TO REPOSITORY
            </button>
            <h1 id="page-title" style="font-size: 60px; margin-bottom: 20px;">TITLE</h1>
            <span id="page-tag" class="tag">Category</span>
            <div id="page-content" style="margin-top: 50px; font-size: 24px; line-height: 1.6; font-family: 'Montserrat'; font-weight: 300;"></div>
        </div>
    </div>

    <div class="wrapper">
        <section id="hero">
            <span class="tag">Architecture & Design</span>
            <h1>Nikhil Gowtham</h1>
            <p style="font-family:'Montserrat'; letter-spacing:6px; font-size:12px; margin-top:20px; font-weight: 600;">SYSTEM ARCHITECT | STORYTELLER</p>
        </section>

        <section id="identity">
            <span class="tag">01. Protocols</span>
            <div class="info-grid">
                <div class="info-card">
                    <h3 style="font-family:'Montserrat'; letter-spacing:2px; text-transform:uppercase; font-size:14px;">Professional</h3>
                    <p style="margin-top:20px; font-size:22px; line-height:1.4;">Fametoonz Hub: Orchestrating 10k+ assets. Building episodic IP pipelines and production logic.</p>
                </div>
                <div class="info-card">
                    <h3 style="font-family:'Montserrat'; letter-spacing:2px; text-transform:uppercase; font-size:14px;">Personal</h3>
                    <p style="margin-top:20px; font-size:22px; line-height:1.4;">Based in Tirupati. Designing human-centric systems through narrative and technology.</p>
                </div>
            </div>
        </section>

        <section id="id-vault">
            <span class="tag">02. The Repository</span>
            <h2 style="font-size: 50px; font-style: italic; margin-bottom: 10px;">The Vault</h2>
            <p style="font-family:'Montserrat'; font-size:12px; margin-bottom:40px; opacity:0.8;">ORCHESTRATED NARRATIVES & SYSTEM LOGIC</p>

            <h3 style="font-family:'Montserrat'; letter-spacing:3px; font-size:14px; margin-bottom:20px; text-transform:uppercase;">Story Archives</h3>
            <div class="paper-row">
                <div class="mini-paper" onclick="openFullPage('stories', 0)"><span>Book of Balance</span></div>
                <div class="mini-paper" onclick="openFullPage('stories', 1)"><span>MaHi</span></div>
                <div class="mini-paper" onclick="openFullPage('stories', 2)"><span>Bite</span></div>
                <div class="mini-paper" onclick="openFullPage('stories', 3)"><span>Loaning</span></div>
                <div class="mini-paper" onclick="openFullPage('stories', 4)"><span>Loading</span></div>
            </div>

            <h3 style="font-family:'Montserrat'; letter-spacing:3px; font-size:14px; margin:40px 0 20px; text-transform:uppercase;">Game Blueprints</h3>
            <div class="paper-row">
                <div class="mini-paper blue-p" onclick="openFullPage('games', 0)"><span>Genview</span></div>
                <div class="mini-paper blue-p" onclick="openFullPage('games', 1)"><span>Genview V2</span></div>
            </div>
        </section>

        <section class="resume-bridge">
            <span class="tag">03. Credentials</span>
            <button class="btn" onclick="openFullPage('resume', 0)" style="background:var(--accent); color:white; border:none;">
                <i class="fa-solid fa-file-pdf"></i> RETRIEVE RESUME.PDF
            </button>
        </section>

        <section id="contact">
            <span class="tag">04. Initialize</span>
            <h2 style="font-size:clamp(18px, 4vw, 35px); margin-bottom:30px; font-family:'Montserrat';">matchalanikhilgowtham@gmail.com</h2>
            <div style="display:flex; gap:20px; flex-wrap:wrap; justify-content:center;">
                <a href="tel:6303594257" class="btn"><i class="fa-solid fa-phone"></i> VOICE</a>
                <a href="https://wa.me/916303594257" class="btn"><i class="fa-brands fa-whatsapp"></i> WHATSAPP</a>
            </div>
        </section>

        <section id="others">
            <span class="tag">05. Others</span>
            <h2 style="font-size: 50px; font-style: italic;">Visual Assets & Scripts</h2>
            <div class="others-grid">
                <div class="lab-card"><h3>Script v1</h3><p>Python asset orchestration script.</p></div>
                <div class="lab-card"><h3>Visual Map</h3><p>Logic flow for episodic content.</p></div>
            </div>
        </section>
    </div>

    <script>
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('canvas-container').appendChild(renderer.domElement);

        const isMobile = window.innerWidth < 768;
        const papers = [];
        const paperColors = [0xffffff, 0xcbd5e0, 0x8b7355, 0xe9d8a6]; 
        for(let i=0; i<(isMobile ? 30 : 55); i++) {
            const geometry = new THREE.PlaneGeometry(3.5, 4.5);
            const material = new THREE.MeshPhongMaterial({ color: paperColors[Math.floor(Math.random()*4)], side: THREE.DoubleSide, transparent: true, opacity: 0.7 });
            const p = new THREE.Mesh(geometry, material);
            p.position.set((Math.random()-0.5)*90, (Math.random()-0.5)*100, (Math.random()-0.5)*40);
            p.rotation.set(Math.random()*Math.PI, Math.random()*Math.PI, Math.random()*Math.PI);
            p.userData = { originalPos: p.position.clone(), rotSpeed: (Math.random()-0.5)*0.01, fallSpeed: 0.02+Math.random()*0.04 };
            scene.add(p);
            papers.push(p);
        }
        scene.add(new THREE.AmbientLight(0xffffff, 0.7));
        camera.position.z = isMobile ? 65 : 50;

        let mouseX = 0;
        document.addEventListener('mousemove', (e) => {
            mouseX = (e.clientX - window.innerWidth/2)/100;
            gsap.to("#cursor", { x: e.clientX, y: e.clientY, duration: 0.1 });
        });

        function animate() {
            requestAnimationFrame(animate);
            papers.forEach(p => { 
                if(!p.userData.isZoomed) { 
                    p.position.y -= p.userData.fallSpeed;
                    p.position.x += (mouseX * 0.02);
                    if(p.position.y < -55) p.position.y = 55; 
                } 
            });
            renderer.render(scene, camera);
        }
        animate();

        function openFullPage(type, index) {
            const content = {
                'stories': [
                    {t: 'Book of Balance', tag: 'STORY ARCHIVE', c: 'The world exists in a state of delicate equilibrium...'},
                    {t: 'MaHi', tag: 'STORY ARCHIVE', c: 'A survival journey set in a landscape of architectural decay...'},
                    {t: 'Bite', tag: 'STORY ARCHIVE', c: 'A narrative regarding the decay of systemic communication...'},
                    {t: 'Loaning', tag: 'STORY ARCHIVE', c: 'Exploring the architecture of digital debt...'},
                    {t: 'Loading', tag: 'STORY ARCHIVE', c: 'The void between systems.'}
                ],
                'games': [
                    {t: 'Genview', tag: 'GAME BLUEPRINT', c: 'First-generation procedural visualization system...'},
                    {t: 'Genview V2', tag: 'GAME BLUEPRINT', c: 'Enhanced logic pipelines for modern rendering...'}
                ],
                'resume': [
                    {t: 'Curriculum Vitae', tag: 'Credentials', c: 'System Architect at Fametoonz Hub. Expert in asset orchestration and pipeline logic. Based in Tirupati.'}
                ]
            };

            const data = content[type][index];
            document.getElementById('page-title').innerText = data.t;
            document.getElementById('page-tag').innerText = data.tag;
            document.getElementById('page-content').innerHTML = `<p>${data.c}</p>`;
            
            const p = papers[Math.floor(Math.random()*papers.length)];
            p.userData.isZoomed = true;

            // FIXED TIMING: Paper animation runs, THEN page fades in
            gsap.to(p.position, { x: 0, y: 0, z: isMobile ? 60 : 45, duration: 1.2, ease: "power2.out" });
            gsap.to(p.rotation, { x: 0, y: 0, z: 0, duration: 1 });

            const page = document.getElementById('reading-page');
            gsap.set(page, { display: 'flex' });
            gsap.to(page, { opacity: 1, duration: 0.6, delay: 0.8 }); // Added delay so page waits for paper
        }

        function closeReadingPage() {
            gsap.to("#reading-page", { opacity: 0, duration: 0.4, onComplete: () => {
                document.getElementById('reading-page').style.display = 'none';
                papers.forEach(p => { 
                    if(p.userData.isZoomed) { 
                        gsap.to(p.position, { x: p.userData.originalPos.x, y: p.userData.originalPos.y, z: p.userData.originalPos.z, duration: 1 }); 
                        p.userData.isZoomed = false; 
                    } 
                });
            }});
        }

        function toggleMode() { 
            document.body.classList.toggle('night-mode');
            document.getElementById('mode-icon').classList.toggle('fa-sun');
            function updateStatus(newText) {
    const statusElement = document.getElementById('current-activity');
    let i = 0;
    statusElement.innerHTML = ''; // Clear current text
    
    function typeWriter() {
        if (i < newText.length) {
            statusElement.innerHTML += newText.charAt(i);
            i++;
            setTimeout(typeWriter, 50); // Speed of typing
        }
    }
    typeWriter();
}

// Example: Change status 5 seconds after the page loads
setTimeout(() => {
    updateStatus("PARSING SYSTEM ARCHIVES...");
}, 5000);
        }

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => { if(entry.isIntersecting) entry.target.classList.add('visible'); });
        }, { threshold: 0.1 });
        document.querySelectorAll('section').forEach(s => observer.observe(s));

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
